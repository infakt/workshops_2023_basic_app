<%= turbo_stream_from :books %>
<div class="container">
  <h1 class="text-center mb-5">Books</h1>
  <%= turbo_frame_tag "paginate_page_#{@books.current_page}" do %>
    <div class="row">
      <% @books.each do |book| %>
        <%= render partial: 'index_item', collection: @books, as: :book %>
      <% end %>
      <% if @books.next_page %>
        <%= turbo_frame_tag "paginate_page_#{@books.next_page}", src: books_path(page: @books.next_page), loading: 'lazy' do %>
          Loading...
        <% end %>
      <% end %>
    </div>
  <% end %>
</div>
